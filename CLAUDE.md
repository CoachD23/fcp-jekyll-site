# Florida Coastal Prep (FCP) — Project Rules

## Site Overview
- **Framework:** Jekyll 4.3 static site
- **Deploy:** Netlify auto-deploys on push to `master` branch
- **URL:** https://floridacoastalprep.com
- **Repo:** `CoachD23/fcp-jekyll-site` on GitHub
- **Working dir:** `/Users/fcp/Florida Coastal Prep Website/fcp-jekyll-site-master/`

## Git Workflow (CRITICAL)
**Git CLI is blocked** by Xcode license (exit code 69). **python3 is also blocked.**
Always use the **GitHub REST API** via curl to push changes:

1. Base64 encode each file: `base64 -i <file> | tr -d '\n' > /tmp/blob_name.b64`
2. Create blobs: `POST /repos/CoachD23/fcp-jekyll-site/git/blobs` with `{"content":"<base64>","encoding":"base64"}`
3. Get HEAD SHA: `GET /repos/CoachD23/fcp-jekyll-site/git/ref/heads/master`
4. Get tree SHA from commit: `GET /repos/CoachD23/fcp-jekyll-site/git/commits/<sha>`
5. Create new tree: `POST /repos/CoachD23/fcp-jekyll-site/git/trees` with `base_tree` + file list
6. Create commit: `POST /repos/CoachD23/fcp-jekyll-site/git/commits`
7. Update ref: `PATCH /repos/CoachD23/fcp-jekyll-site/git/refs/heads/master`

**Auth header:** `Authorization: token $GITHUB_TOKEN` — Token stored in `~/.fcp-secrets` (source it before API calls)
**Committer:** `CoachD23` / `130697360+CoachD23@users.noreply.github.com`
**Netlify Site ID:** `386f4bce-9bac-4d53-bc0a-eae36af5d502`
**Netlify Token:** Stored in `~/.fcp-secrets` as `$NETLIFY_TOKEN`

When parsing JSON from curl, use `tr -d ' \n' | grep -o '"sha":"[^"]*"' | head -1 | cut -d'"' -f4` (no python/jq available).

## SEO Rules — Apply to EVERY Change

### Every Page Must Have (in front matter)
```yaml
title: "Keyword-rich title (50-60 chars)"
description: "Unique meta description with keywords (150-160 chars)"
og_image: /assets/images/specific-image.jpg   # Unique per page
hero_image: /assets/images/hero-image.jpg      # For pages with hero sections
```

### OG Image Cascade (defined in head.html)
The `head.html` include resolves OG images in this order:
1. `page.image` (blog posts)
2. `page.og_image` (explicit override)
3. `page.hero_image` (page heroes)
4. Fallback: `/assets/images/about-fcp.jpg`

**Every page should have at least one of these set.** Prefer specific images over generic fallbacks.

### Blog Posts (`layout: post`) Must Have
- **Front matter:** `title`, `date`, `excerpt`, `image`, `description`
- **Auto-generated by layout:** Reading time, social sharing (X/Facebook/Copy Link), author card
- **image:** Always set a unique featured image in `/assets/images/blog/` or `/assets/images/`

### Alumni Posts (`layout: alumni-post`) Must Have
- **Front matter:** `title`, `date`, `excerpt`, `image`, `description`, plus alumni-specific fields:
  - `player_name`, `hometown`, `high_school`, `position`, `height`
  - `then_team`, `then_year`, `now_team`, `now_year`
  - `stats` (array of `{ label, value }`)
  - `bio` (player bio paragraph)
- **Auto-generated by layout:** Journey card, stats bar, reading time, social sharing, bio footer

### Structured Data (in head.html — automatically applied)
- **SportsOrganization** — site-wide, includes founder Lee DeForest
- **Article** schema — auto-applied to `post` and `alumni-post` layouts (includes headline, datePublished, dateModified, author, description, wordCount, image)
- **BreadcrumbList** — auto-applied to all pages (Home > Page Title)
- **FAQPage** — on faq.html only (all 15 questions in JSON-LD)

### When Adding New Pages
1. Add `title`, `description`, `og_image` (or `hero_image`) to front matter
2. Verify structured data renders correctly (Article for posts, BreadcrumbList for all)
3. Include internal links to related pages (especially Apply and Contact)

### When Adding New Blog Posts
1. Set all required front matter fields (see above)
2. Use a unique image — never reuse `blog-default.jpg` as the post image
3. Add internal links within the post body to relevant program pages
4. Use H2/H3 headings with keywords (not just H1)
5. Include a clear CTA linking to `/apply/` or `/contact/`

### Internal Linking Best Practices
- Every program page should link to `/apply/` and `/contact/`
- Alumni posts should link to the relevant program page (post-grad, high-school)
- Blog posts should cross-link to related blog posts and program pages
- Use descriptive anchor text (not "click here")

## File Structure Reference
```
_includes/     → head.html, nav.html, footer.html, hero-video.html
_layouts/      → default.html, page.html, post.html, alumni-post.html
_posts/        → All blog posts (YYYY-MM-DD-slug.md)
_data/         → commitments.yml
assets/css/    → main.css (all styles)
assets/images/ → All images organized by subfolder:
  /blog/         → Blog post images
  /coaches/      → Coach headshots
  /housing/      → Housing & beach photos
  /training/     → Spartan Training Center photos
  /alumni/       → Alumni-specific images
```

## Available Images (for og_image assignments)
**Root:** about-fcp.jpg, about-hero.jpg, homepage-hero.jpeg, whatsapp-team.jpeg, apply-now.jpeg, brandon-maclin-fcp.jpeg, brandon-maclin-signing.jpg, fcp-logo-square.png
**Blog:** blog-default.jpg, kenny-visit.jpg, scholarships.jpg
**Coaches:** kenny-anderson.png, lee-deforest.webp, alba-reyes.webp, and more
**Housing:** pool-gulf.webp, beach-view.webp, beach.jpg, standish.webp, and more
**Training:** spartan-center.jpg, spartan-center-2.jpg, gym-main.jpg

## CSS Conventions
- All styles in `assets/css/main.css`
- Use `.container` for max-width content, `.container-narrow` for blog body
- Color palette: `#b22234` (FCP red), `#1a1a2e` (dark navy), `#f5f5f5` (light bg)
- Mobile breakpoints: 768px (tablet), 480px (phone)
- Ken Burns animation on hero images (respect `prefers-reduced-motion`)
- Social share buttons: circular, border style, brand-color hover states

## Quality Checklist Before Any Push
- [ ] Every modified page has `title` and `description` in front matter
- [ ] Every modified page has an OG image (via `image`, `og_image`, or `hero_image`)
- [ ] Blog posts have `excerpt` and unique `image`
- [ ] No broken internal links
- [ ] CSS changes are mobile-responsive
- [ ] Structured data is valid (Article schema has all fields)
- [ ] Commit message is descriptive with `seo:`, `feat:`, `fix:`, or `blog:` prefix
